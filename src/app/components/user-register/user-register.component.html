<div
	class="container-fluid h-75 d-flex justify-content-center align-items-center"
>
	<form
		[formGroup]="registerForm"
		class="d-flex flex-column gap-3 w-50 mw-25 align-items-center"
		(ngSubmit)="onSubmit(registerForm.value)"
	>
		<div class="form-group w-75">
			<label for="email">Email:</label>
			<input
				type="text"
				id="username"
				class="form-control"
				formControlName="email"
			/>
			<span class="text-danger">
				@if (
					registerForm.controls.email.touched &&
					registerForm.controls.email.errors
				) {
					@if (registerForm.controls.email.errors["required"]) {
						Email is required
					} @else if (registerForm.controls.email.errors["email"]) {
						Invalid e-mail
					}
				}
			</span>
		</div>

		<div class="form-group w-75">
			<label for="password">Password:</label>
			<input
				type="password"
				id="password"
				class="form-control"
				formControlName="password"
			/>
			<span class="text-danger">
				@if (
					registerForm.controls.password.touched &&
					registerForm.controls.password.errors
				) {
					@if (registerForm.controls.password.errors["required"]) {
						Password is required
					} @else if (registerForm.controls.password.errors["pattern"]) {
						Weak password. Password should be at least 8 characters and should
						contain at least one of each: letter, capital letter, digit, special
						character
					}
				}
			</span>
		</div>

		<div class="form-group w-75">
			<label for="confirmPassword">Confirm Password:</label>
			<input
				type="password"
				id="confirmPassword"
				class="form-control"
				formControlName="confirmPassword"
			/>
			<span class="text-danger">
				@if (
					registerForm.controls.confirmPassword.touched &&
					registerForm.controls.confirmPassword.errors?.["required"]
				) {
					Password is required
				} @else if (
					registerForm.controls.confirmPassword.touched &&
					registerForm.errors?.["passwordMismatch"]
				) {
					Passwords don't match
				}
			</span>
			<div class="d-flex justify-content-center align-items-center">
				@if (registrationError) {
					<span class="text-danger mt-2">
						{{ registrationError }}
					</span>
				} @else if (registrationSuccess) {
					<span class="text-white bg-success border rounded-pill fs-2 p-1 m-1">
						Registration successful
					</span>
				}
			</div>
		</div>

		<button
			type="submit"
			class="btn btn-primary mt-3 w-25"
			[disabled]="!registerForm.valid"
		>
			Sign up
		</button>
	</form>
</div>
